<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <title>MeteoRe ‚Äì La m√©t√©o la plus pr√©cise pour L'√âtang-Sal√©</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: linear-gradient(135deg, #e0f7fa, #b2ebf2);
      --glass: rgba(255, 255, 255, 0.78);
      --text: #004d40;
      --accent: #006064;
      --shadow: 0 12px 32px rgba(0, 77, 64, 0.18);
      --border: rgba(0, 96, 100, 0.22);
      --radius: 32px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
      transition: background 0.8s ease;
    }

    body.sun-glow { background: linear-gradient(135deg, #e1f5fe, #b3e5fc); }
    body.cloudy-few { background: linear-gradient(135deg, #e3f2fd, #bbdefb); }
    body.cloudy-heavy { background: linear-gradient(135deg, #cfd8dc, #b0bec5); filter: brightness(0.96); }
    body.clearing { background: linear-gradient(135deg, #d1c4e9, #b39ddb); }
    body.rainy { background: linear-gradient(135deg, #90a4ae, #78909c); filter: brightness(0.9); }
    body.stormy { background: linear-gradient(135deg, #455a64, #263238); filter: brightness(0.82); --text: #e0e0e0; }

    .vigilance-banner {
      background: var(--glass);
      backdrop-filter: blur(18px);
      border-radius: var(--radius);
      padding: 24px;
      margin: 24px 0;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      text-align: center;
      display: none;
      animation: fadeIn 0.8s ease forwards;
    }
    .vigilance-banner.active { display: block; }
    .vigilance-title { font-size: 24px; font-weight: 800; margin-bottom: 16px; color: var(--accent); }
    .vigilance-level { display: flex; justify-content: center; align-items: center; gap: 16px; flex-wrap: wrap; }
    .vig-level {
      padding: 14px 28px; border-radius: 18px; font-weight: 700; font-size: 17px; min-width: 140px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .vert { background: #4caf50; color: white; }
    .jaune { background: #ffeb3b; color: #212121; }
    .orange { background: #ff9800; color: white; }
    .rouge { background: #f44336; color: white; }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    .current-weather, .cyclone-widget, .day-card, .hour-card, .detail-card {
      background: var(--glass);
      backdrop-filter: blur(20px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    }
    .current-weather:hover, .day-card:hover, .hour-card:hover { transform: translateY(-8px); box-shadow: 0 16px 40px rgba(0, 77, 64, 0.22); }
    .top-bar { background: var(--glass); backdrop-filter: blur(20px); border-radius: 0 0 var(--radius) var(--radius); }

    #intro {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      z-index: 9999; opacity: 1; transition: opacity 0.7s ease-out;
    }
    #intro.hidden {
      opacity: 0;
      pointer-events: none;
      z-index: -1;
    }
    #intro-logo {
      width: 120px; height: 120px; border-radius: 24px; margin-bottom: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15); animation: pulse 1.5s ease-in-out;
    }
    @keyframes pulse {
      0% { transform: scale(0.9); opacity: 0; }
      70% { transform: scale(1.05); }
      100% { transform: scale(1); opacity: 1; }
    }
    #intro-text {
      font-size: 34px; font-weight: 800; color: var(--accent);
      letter-spacing: 1.2px; text-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }

    #remarques {
      text-align: center; font-size: 14px; font-weight: 700;
      color: #d32f2f; margin: 12px auto;
      background: rgba(255, 235, 235, 0.95); padding: 10px; border-radius: 10px;
      max-width: 600px;
    }

    .top-bar {
      display: flex; justify-content: space-between; align-items: center;
      padding: 18px 20px;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid var(--border); z-index: 100;
      box-shadow: 0 2px 10px rgba(0,0,0,0.04);
    }
    .logo { font-weight: 800; font-size: 24px; color: var(--accent); }
    .version { font-size: 11px; opacity: 0.85; margin-top: -2px; font-weight: 600; }

    .youtube-btn {
      background: #ff0000; color: white; padding: 7px 16px; border: none;
      border-radius: 12px; font-weight: 600; font-size: 13px; cursor: pointer;
      box-shadow: 0 4px 10px rgba(255,0,0,0.25);
    }
    .youtube-btn:hover {
      background: #cc0000;
      transform: translateY(-2px);
    }

    .container {
      max-width: 900px; margin: 0 auto; padding: 0 16px 100px;
      opacity: 0; transition: opacity 0.5s ease;
    }
    .container.ready { opacity: 1; }

    .current-weather {
      text-align: center; margin: 28px 0 32px;
      padding: 32px 24px;
    }
    .location { font-size: 22px; font-weight: 700; margin-bottom: 10px; }
    .current-temp {
      font-size: 84px; font-weight: 200; margin: 10px 0;
      background: linear-gradient(90deg, #0288d1, #00bcd4);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .current-condition { font-size: 22px; font-weight: 700; margin: 12px 0; }

    .details-grid {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-top: 22px;
    }
    .detail-card {
      background: rgba(224, 247, 250, 0.65); border-radius: 16px; padding: 14px; text-align: center;
      border: 1px solid rgba(2, 136, 209, 0.1);
    }
    .detail-value { font-weight: 800; font-size: 18px; color: #006064; }
    .detail-label { font-size: 12px; opacity: 0.85; }

    .section-title {
      font-size: 21px; font-weight: 700; margin: 32px 0 20px; color: #004d40;
      display: flex; justify-content: space-between; align-items: center;
    }

    .hourly-cards {
      display: flex; gap: 16px; overflow-x: auto; padding: 8px 0 16px;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory;
    }
    .hour-card {
      background: var(--glass); border-radius: 20px; padding: 16px 12px;
      min-width: 80px; text-align: center; border: 1px solid var(--border);
      transition: all 0.25s ease; scroll-snap-align: start;
    }
    .hour-card img { width: 30px; height: 30px; margin: 6px 0; }

    .forecast-7j { display: grid; gap: 18px; margin-bottom: 32px; }
    .day-card {
      background: var(--glass); border-radius: 22px; padding: 20px;
      display: flex; justify-content: space-between; align-items: center;
      border: 1px solid var(--border);
    }
    .day-card img { width: 32px; height: 32px; }

    .cyclone-widget {
      background: var(--glass); border-radius: 22px; padding: 22px;
      margin-bottom: 32px; text-align: center;
    }
    #cyclone-image {
      width: 100%; max-width: 600px; border-radius: 16px; margin: 0 auto;
      box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    }

    .footer {
      text-align: center; font-size: 13px; opacity: 0.85; padding: 20px 0 10px;
    }

    .override-btn {
      position: fixed; bottom: 24px; right: 20px;
      background: #d32f2f; color: white; border: none; border-radius: 20px;
      padding: 10px 16px; font-weight: 600; box-shadow: 0 4px 12px rgba(211, 47, 47, 0.35);
      cursor: pointer; z-index: 1000;
    }
    .override-btn:hover { background: #b71c1c; transform: scale(1.05); }

    #source-badge {
      text-align: right; font-size: 12px; opacity: 0.75; margin-bottom: 10px;
    }

    #loading {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: var(--bg); display: flex; justify-content: center; align-items: center;
      z-index: 9999;
    }
    #loading.hidden { display: none; }
    .spinner {
      width: 60px; height: 60px; border: 4px solid var(--accent);
      border-top-color: transparent; border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
  </style>
</head>
<body>
  <div id="loading"><div class="spinner"></div></div>

  <div id="intro">
    <img id="intro-logo" src="https://i.imgur.com/KsA0dbG.jpeg" alt="Logo MeteoRe">
    <div id="intro-text">MeteoRe</div>
  </div>

  <div id="remarques">üìç Application m√©t√©o sp√©cialement con√ßue pour <strong>L'√âtang-Sal√©</strong> ‚Äì La plus pr√©cise sur place !</div>

  <div class="top-bar">
    <div>
      <div class="logo">MeteoRe</div>
      <div class="version">V1.22.2</div>
    </div>
    <button class="youtube-btn">‚ñ∂Ô∏è YouTube</button>
  </div>

  <div class="container">
    <div class="current-weather">
      <div class="location">L'√âtang-Sal√©</div>
      <div class="current-temp" id="current-temp">--¬∞</div>
      <div class="current-condition" id="current-condition">‚Äî</div>
      <div class="details-grid">
        <div class="detail-card">
          <div class="detail-value" id="humidity">‚Äî%</div>
          <div class="detail-label">Humidit√©</div>
        </div>
        <div class="detail-card">
          <div class="detail-value" id="wind">‚Äî km/h</div>
          <div class="detail-label">Vent</div>
        </div>
        <div class="detail-card">
          <div class="detail-value" id="pressure">‚Äî hPa</div>
          <div class="detail-label">Pression</div>
        </div>
      </div>
    </div>

    <div class="vigilance-banner active" id="vigilance-banner">
      <div class="vigilance-title">üåßÔ∏è Vigilances M√©t√©o R√©union ‚Ä¢ 28/12/2025</div>
      <div class="vigilance-level">
        <div class="vig-level vert">Vert üåø Pas de vigilance particuli√®re</div>
      </div>
      <p style="margin-top:16px; opacity:0.9; font-size:14px;">Aucune alerte cyclonique en cours ‚Ä¢ Source : M√©t√©o-France / MeteoRe</p>
    </div>

    <div class="section-title">
      <span>Pr√©vision par heure sur 2 jours</span>
      <button id="share-btn" style="background:#0288d1;color:white;border:none;border-radius:8px;padding:6px 12px;font-size:13px;font-weight:600;cursor:pointer;">
        üì∏ Partager
      </button>
    </div>
    <div id="source-badge">Donn√©e fiable</div>
    <div class="hourly-cards" id="hourly"></div>

    <div class="section-title">Pr√©vision 7 jours</div>
    <div class="forecast-7j" id="forecast-7j"></div>

    <div class="section-title">Activit√© cyclonique en cours ‚Äì Mise √† jour √† 00h40 le 27/12/2025 (ECMWF)</div>
    <div class="cyclone-widget">
      <img id="cyclone-image" src="https://i.imgur.com/LHN9bj2.png" alt="Carte cyclonique MeteoRe">
      <p style="font-size:13px; opacity:0.85; margin-top:12px;">Mise √† jour quotidienne par MeteoRe</p>
    </div>

    <div class="footer">
      ¬© 2025 MeteoRe ‚Ä¢ Sp√©cialiste de L'√âtang-Sal√©
    </div>
  </div>

  <button class="override-btn" id="override-btn">‚úèÔ∏è Corriger (35 min)</button>

  <script>
    // ‚úÖ CORRECTIONS EN ATTENTE (aucune appliqu√©e automatiquement)
    let correctionsEnAttente = [];

    // Fonctions utilitaires pour le formatage des dates FR
    function getFrenchDayName(date) {
      const jours = ["Dim.", "Lun.", "Mar.", "Mer.", "Jeu.", "Ven.", "Sam."];
      return jours[date.getDay()];
    }

    function getFrenchMonthName(date) {
      const mois = ["Jan.", "F√©v.", "Mars", "Avr.", "Mai", "Juin", "Juil.", "Ao√ªt", "Sep.", "Oct.", "Nov.", "D√©c."];
      return mois[date.getMonth()];
    }

    const CORRECTION_DURATION_MIN = 35;
    const previsionsManuelles_EtangSale = {
      "00h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "01h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "02h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "03h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "04h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "05h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "06h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "07h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "08h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "09h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "10h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "11h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "12h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "13h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "14h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "15h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "16h": { label: "√âclaircies", icon: "https://i.imgur.com/6AwrSCx.png" },
      "17h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "18h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "19h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "20h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "21h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "22h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "23h": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      
      "00h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "01h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "02h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "03h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "04h_j1": { label: "Averses", icon: "https://i.imgur.com/6F2nRu0.png" },
      "05h_j1": { label: "Averses", icon: "https://i.imgur.com/6F2nRu0.png" },
      "06h_j1": { label: "Averses", icon: "https://i.imgur.com/6F2nRu0.png" },
      "07h_j1": { label: "Averses", icon: "https://i.imgur.com/6F2nRu0.png" },
      "08h_j1": { label: "Averses", icon: "https://i.imgur.com/6F2nRu0.png" },
      "09h_j1": { label: "Averses", icon: "https://i.imgur.com/6F2nRu0.png" },
      "10h_j1": { label: "Averses", icon: "https://i.imgur.com/6F2nRu0.png" },
      "11h_j1": { label: "Averses", icon: "https://i.imgur.com/6F2nRu0.png" },
      "12h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "13h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "14h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "15h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "16h_j1": { label: "Averses faibles", icon: "https://i.imgur.com/yGsl83p.png" },
      "17h_j1": { label: "Tr√®s nuageux", icon: "https://i.imgur.com/wtCZHpd.png" },
      "18h_j1": { label: "Tr√®s nuageux", icon: "https://i.imgur.com/wtCZHpd.png" },
      "19h_j1": { label: "Tr√®s nuageux", icon: "https://i.imgur.com/wtCZHpd.png" },
      "20h_j1": { label: "Tr√®s nuageux", icon: "https://i.imgur.com/wtCZHpd.png" },
      "21h_j1": { label: "Tr√®s nuageux", icon: "https://i.imgur.com/wtCZHpd.png" },
      "22h_j1": { label: "Tr√®s nuageux", icon: "https://i.imgur.com/wtCZHpd.png" },
      "23h_j1": { label: "Tr√®s nuageux", icon: "https://i.imgur.com/wtCZHpd.png" }
    };

    const previsions7j_EtangSale = [
      { label: "Averses", icon: "https://i.imgur.com/lBjVqLV.png", min: "19¬∞", max: "26¬∞" },
      { label: "Couvert", icon: "https://i.imgur.com/8EIg3fq.png", min: "19¬∞", max: "27¬∞" },
      { label: "Orages", icon: "https://i.imgur.com/Qre2CV4.png", min: "23¬∞", max: "25¬∞" },
      { label: "√âclaircies", icon: "https://i.imgur.com/1gHBkKj.png", min: "22¬∞", max: "26¬∞" },
      { label: "Averses faibles", icon: "https://i.imgur.com/lBjVqLV.png", min: "22¬∞", max: "27¬∞" },
      { label: "Averses", icon: "https://i.imgur.com/5nXW4yP.png", min: "22¬∞", max: "29¬∞" },
      { label: "Soleil", icon: "https://i.imgur.com/9mtLzHK.png", min: "23¬∞", max: "30¬∞" }
    ];

    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(() => {
        document.getElementById('intro').classList.add('hidden');
        document.getElementById('loading').classList.add('hidden');
        document.querySelector('.container').classList.add('ready');
        
        // üî• MAINTENANT : on lit la m√©t√©o actuelle selon l'heure EXACTE
        const now = new Date();
        const currentHour = now.getHours().toString().padStart(2, '0') + 'h';
        const currentData = previsionsManuelles_EtangSale[currentHour] || { label: "Conditions variables" };

        document.getElementById('current-temp').textContent = "25¬∞";
        document.getElementById('humidity').textContent = "78%";
        document.getElementById('wind').textContent = "38 km/h";
        document.getElementById('pressure').textContent = "1013 hPa";
        document.getElementById('current-condition').textContent = currentData.label;
        updateWeatherTheme(currentData.label);
        
        renderHourlyForecast();
        renderForecast7jForEtangSale();
      }, 1500);

      document.querySelector('.youtube-btn').addEventListener('click', () => {
        window.open('https://youtube.com/@meteore974', '_blank');
      });

      document.getElementById('share-btn').addEventListener('click', () => {
        alert("üì∏ Fonction de partage bient√¥t disponible !");
      });

      document.getElementById('override-btn').addEventListener('click', showOverrideModal);
    });

    function renderHourlyForecast() {
      const container = document.getElementById('hourly');
      container.innerHTML = '';
      const now = new Date();
      const currentHour = now.getHours();
      let lastDayOffset = -1;

      for (let i = 0; i < 48; i++) {
        const futureHour = (currentHour + i) % 24;
        const dayOffset = Math.floor((currentHour + i) / 24);
        const hourStr = futureHour.toString().padStart(2, '0') + 'h';
        const dataKey = dayOffset === 0 ? hourStr : `${hourStr}_j1`;
        const data = previsionsManuelles_EtangSale[dataKey] || { 
          label: "Conditions variables",
          icon: "https://i.imgur.com/QR2QKNA.png"
        };

        // ‚úÖ Format complet de la date : Dim. 28 D√©c. ‚Ä¢ 14h
        const futureDate = new Date(now);
        futureDate.setDate(now.getDate() + dayOffset);
        futureDate.setHours(futureHour, 0, 0, 0);
        const dayLabel = getFrenchDayName(futureDate);
        const dateNum = futureDate.getDate();
        const monthLabel = getFrenchMonthName(futureDate);
        let timeLabel = `${dayLabel} ${dateNum} ${monthLabel} ‚Ä¢ ${hourStr}`;

        if (i === 0) {
          timeLabel = "MAINTENANT";
        }

        const isNow = i === 0;
        const card = document.createElement('div');
        card.className = 'hour-card';
        if (isNow) {
          card.style.background = 'rgba(2, 136, 209, 0.18)';
          card.style.border = '2px solid #0288d1';
        }
        card.innerHTML = `
          <div style="font-size:13px; font-weight:600; ${isNow ? 'color:#0288d1;' : ''}">${timeLabel}</div>
          <img src="${data.icon}" alt="${data.label}" style="width:30px;height:30px;margin:6px 0;">
          <div style="font-size:11px; opacity:0.85; margin-top:6px;">${data.label}</div>
        `;
        container.appendChild(card);
      }
    }

    function renderForecast7jForEtangSale() {
      const container = document.getElementById('forecast-7j');
      const joursSemaine = ["DIM", "LUN", "MAR", "MER", "JEU", "VEN", "SAM"];
      const today = new Date();
      for (let i = 0; i < 7; i++) {
        const date = new Date(today);
        date.setDate(today.getDate() + i);
        let label = i === 0 ? "Aujourd'hui" : i === 1 ? "Demain" : i === 2 ? "Apr√®s-demain" : `${joursSemaine[date.getDay()]} ${date.getDate()}`;
        const data = previsions7j_EtangSale[i];
        const card = document.createElement('div');
        card.className = 'day-card';
        card.innerHTML = `
          <div style="display:flex;align-items:center;gap:12px;">
            <img src="${data.icon}" alt="${data.label}">
            <div style="font-weight:600;">${label}</div>
          </div>
          <div style="text-align:right;">
            <div style="font-weight:800;">${data.min} / ${data.max}</div>
            <div style="font-size:12px; opacity:0.85;">${data.label}</div>
          </div>
        `;
        container.appendChild(card);
      }
    }

    function updateWeatherTheme(condition) {
      document.body.className = '';
      const cond = condition.toLowerCase();
      if (cond.includes('d√©gag√©') || cond.includes('soleil') || cond.includes('ensoleill√©')) document.body.classList.add('sun-glow');
      else if (cond.includes('voil√©') || cond.includes('peu nuageux')) document.body.classList.add('cloudy-few');
      else if (cond.includes('nuageux') || cond.includes('couvert') || cond.includes('tr√®s nuageux')) document.body.classList.add('cloudy-heavy');
      else if (cond.includes('√©claircies')) document.body.classList.add('clearing');
      else if (cond.includes('pluie') || cond.includes('bruine') || cond.includes('averse')) document.body.classList.add('rainy');
      else if (cond.includes('orage')) document.body.classList.add('stormy');
    }

    function showOverrideModal() {
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.75); z-index: 9999; display: flex;
        justify-content: center; align-items: center;
      `;
      modal.innerHTML = `
        <div style="background:white; border-radius:20px; padding:25px; width:90%; max-width:400px; box-shadow:0 10px 30px rgba(0,0,0,0.3); text-align:center;">
          <h3 style="color:#d32f2f; margin-bottom:10px;">üîß Correction manuelle</h3>
          <p style="opacity:0.85; margin-bottom:20px;">L'√âtang-Sal√© ‚Ä¢ Dur√©e : 35 min</p>
          <div style="display:grid;gap:14px;margin-bottom:24px;font-weight:600;">
            <input id="temp" type="number" placeholder="Temp√©rature (¬∞C)" value="25" style="padding:10px;border:2px solid #0288d1;border-radius:10px;font-size:16px;">
            <input id="humidity" type="number" placeholder="Humidit√© (%)" value="78" style="padding:10px;border:2px solid #0288d1;border-radius:10px;font-size:16px;">
            <input id="wind" type="number" placeholder="Vent (km/h)" value="38" style="padding:10px;border:2px solid #0288d1;border-radius:10px;font-size:16px;">
          </div>
          <div style="display:flex;gap:12px;">
            <button id="cancel" style="flex:1;background:#e0e0e0;border:none;border-radius:10px;padding:10px;font-weight:600;">Annuler</button>
            <button id="apply" style="flex:1;background:#d32f2f;color:white;border:none;border-radius:10px;padding:10px;font-weight:600;">Soumettre</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      
      modal.querySelector('#cancel').onclick = () => document.body.removeChild(modal);
      modal.querySelector('#apply').onclick = () => {
        const temp = modal.querySelector('#temp').value;
        const hum = modal.querySelector('#humidity').value;
        const wind = modal.querySelector('#wind').value;

        // ‚úÖ Stocke la correction mais NE L'APPLIQUE PAS
        const correction = {
          location: "L'√âtang-Sal√©",
          heure: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
          date: new Date().toLocaleDateString('fr-FR'),
          temp,
          hum,
          wind,
          timestamp: Date.now()
        };
        correctionsEnAttente.push(correction);

        // üîî Alerte pour TOI (rempla√ßable par notif push/email plus tard)
        const msg = `üîî NOUVELLE CORRECTION EN ATTENTE !\n\nüìç ${correction.location}\nüïí ${correction.heure} (${correction.date})\nüå°Ô∏è ${temp}¬∞ | üíß ${hum}% | üå¨Ô∏è ${wind} km/h`;
        alert(msg);

        document.body.removeChild(modal);
        alert("‚úÖ Correction soumise √† validation par J√©r√©my.");
      };
    }
  </script>
</body>
</html>
